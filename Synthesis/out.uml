<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML">
  <uml:StateMachine xmi:id="_yfEvgE3NEeao8-d5_uOYEA" name="user">
    <region xmi:id="_yfEvgU3NEeao8-d5_uOYEA" name="region of user">
      <transition xmi:id="_yfEvgk3NEeao8-d5_uOYEA" name="initTrans" source="_yfEvg03NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvg03NEeao8-d5_uOYEA" name="init"/>
    </region>
  </uml:StateMachine>
  <uml:StateMachine xmi:id="_yfEvhE3NEeao8-d5_uOYEA" name="bank">
    <region xmi:id="_yfEvhU3NEeao8-d5_uOYEA" name="region of bank">
      <transition xmi:id="_yfEvhk3NEeao8-d5_uOYEA" name="initTrans" source="_yfEvjU3NEeao8-d5_uOYEA" target="_yfEvj03NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfEvh03NEeao8-d5_uOYEA" name="(exit from (entry)) to (WaitBankVerify)" source="_yfEvlU3NEeao8-d5_uOYEA" target="_yfEvj03NEeao8-d5_uOYEA">
        <effect xmi:type="uml:OpaqueBehavior" xmi:id="_yfEviE3NEeao8-d5_uOYEA">
          <body>return :badBankPassword</body>
        </effect>
      </transition>
      <transition xmi:id="_yfEviU3NEeao8-d5_uOYEA" name="(exit from (entry)) to (WaitBankVerify)" source="_yfEvlk3NEeao8-d5_uOYEA" target="_yfEvj03NEeao8-d5_uOYEA">
        <effect xmi:type="uml:OpaqueBehavior" xmi:id="_yfEvik3NEeao8-d5_uOYEA">
          <body>return :badBankAccount</body>
        </effect>
      </transition>
      <transition xmi:id="_yfEvi03NEeao8-d5_uOYEA" name="verifyCardWithBank" source="_yfEvj03NEeao8-d5_uOYEA" target="_yfEvlE3NEeao8-d5_uOYEA">
        <trigger xmi:id="_yfEvjE3NEeao8-d5_uOYEA" name="verifyCardWithBank"/>
      </transition>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvjU3NEeao8-d5_uOYEA" name="init"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvjk3NEeao8-d5_uOYEA" name=":verifyCardWithBank" submachine="_yfEvkE3NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvj03NEeao8-d5_uOYEA" name="WaitBankVerify"/>
    </region>
  </uml:StateMachine>
  <uml:StateMachine xmi:id="_yfEvkE3NEeao8-d5_uOYEA" name="submachine for :verifyCardWithBank" submachineState="_yfEvjk3NEeao8-d5_uOYEA">
    <region xmi:id="_yfEvkU3NEeao8-d5_uOYEA" name="region of :verifyCardWithBank">
      <transition xmi:id="_yfEvkk3NEeao8-d5_uOYEA" name="(entry) to (exit from (entry))" source="_yfEvlE3NEeao8-d5_uOYEA" target="_yfEvlU3NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfEvk03NEeao8-d5_uOYEA" name="(entry) to (exit from (entry))" source="_yfEvlE3NEeao8-d5_uOYEA" target="_yfEvlk3NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvlE3NEeao8-d5_uOYEA" name="entry" kind="entryPoint"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvlU3NEeao8-d5_uOYEA" name="exit from (entry)" kind="exitPoint"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvlk3NEeao8-d5_uOYEA" name="exit from (entry)" kind="exitPoint"/>
    </region>
  </uml:StateMachine>
  <uml:StateMachine xmi:id="_yfEvl03NEeao8-d5_uOYEA" name="atm">
    <region xmi:id="_yfEvmE3NEeao8-d5_uOYEA" name="region of atm">
      <transition xmi:id="_yfEvmU3NEeao8-d5_uOYEA" name="initTrans" source="_yfEvrE3NEeao8-d5_uOYEA" target="_yfEvsE3NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfEvmk3NEeao8-d5_uOYEA" name="(exit from (user.displayMainScreen;)) to (WaitCard)" source="_yfEvuU3NEeao8-d5_uOYEA" target="_yfEvsE3NEeao8-d5_uOYEA">
        <effect xmi:type="uml:OpaqueBehavior" xmi:id="_yfEvm03NEeao8-d5_uOYEA">
          <body>return void</body>
        </effect>
      </transition>
      <transition xmi:id="_yfEvnE3NEeao8-d5_uOYEA" name="takeCard" source="_yfEvrk3NEeao8-d5_uOYEA" target="_yfEvuE3NEeao8-d5_uOYEA">
        <trigger xmi:id="_yfEvnU3NEeao8-d5_uOYEA" name="takeCard"/>
      </transition>
      <transition xmi:id="_yfEvnk3NEeao8-d5_uOYEA" name="(exit from (user.requestPassword;)) to (WaitPassword)" source="_yfEvwU3NEeao8-d5_uOYEA" target="_yfEvrU3NEeao8-d5_uOYEA">
        <effect xmi:type="uml:OpaqueBehavior" xmi:id="_yfEvn03NEeao8-d5_uOYEA">
          <body>return void</body>
        </effect>
      </transition>
      <transition xmi:id="_yfEvoE3NEeao8-d5_uOYEA" name="insertCard" source="_yfEvsE3NEeao8-d5_uOYEA" target="_yfEvwE3NEeao8-d5_uOYEA">
        <trigger xmi:id="_yfEvoU3NEeao8-d5_uOYEA" name="insertCard"/>
      </transition>
      <transition xmi:id="_yfEvok3NEeao8-d5_uOYEA" name="(exit from (user.canceledMessage;)) to (WaitTakeCard)" source="_yfEvy03NEeao8-d5_uOYEA" target="_yfEvrk3NEeao8-d5_uOYEA">
        <effect xmi:type="uml:OpaqueBehavior" xmi:id="_yfEvo03NEeao8-d5_uOYEA">
          <body>return void</body>
        </effect>
      </transition>
      <transition xmi:id="_yfEvpE3NEeao8-d5_uOYEA" name="cancel" source="_yfEvrU3NEeao8-d5_uOYEA" target="_yfEvyE3NEeao8-d5_uOYEA">
        <trigger xmi:id="_yfEvpU3NEeao8-d5_uOYEA" name="cancel"/>
      </transition>
      <transition xmi:id="_yfEvpk3NEeao8-d5_uOYEA" name="(exit from (user.badAccountMessage;)) to (WaitTakeCard)" source="_yfEv2E3NEeao8-d5_uOYEA" target="_yfEvrk3NEeao8-d5_uOYEA">
        <effect xmi:type="uml:OpaqueBehavior" xmi:id="_yfEvp03NEeao8-d5_uOYEA">
          <body>return void</body>
        </effect>
      </transition>
      <transition xmi:id="_yfEvqE3NEeao8-d5_uOYEA" name="(exit from (user.requestPassword;)) to (WaitPassword)" source="_yfFWkE3NEeao8-d5_uOYEA" target="_yfEvrU3NEeao8-d5_uOYEA">
        <effect xmi:type="uml:OpaqueBehavior" xmi:id="_yfEvqU3NEeao8-d5_uOYEA">
          <body>return void</body>
        </effect>
      </transition>
      <transition xmi:id="_yfEvqk3NEeao8-d5_uOYEA" name="enterPassword" source="_yfEvrU3NEeao8-d5_uOYEA" target="_yfEv103NEeao8-d5_uOYEA">
        <trigger xmi:id="_yfEvq03NEeao8-d5_uOYEA" name="enterPassword"/>
      </transition>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvrE3NEeao8-d5_uOYEA" name="init"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvrU3NEeao8-d5_uOYEA" name="WaitPassword"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvrk3NEeao8-d5_uOYEA" name="WaitTakeCard"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvr03NEeao8-d5_uOYEA" name=":takeCard" submachine="_yfEvtE3NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvsE3NEeao8-d5_uOYEA" name="WaitCard"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvsU3NEeao8-d5_uOYEA" name=":cancel" submachine="_yfEvxE3NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvsk3NEeao8-d5_uOYEA" name=":insertCard" submachine="_yfEvvE3NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvs03NEeao8-d5_uOYEA" name=":enterPassword" submachine="_yfEvzE3NEeao8-d5_uOYEA"/>
    </region>
  </uml:StateMachine>
  <uml:StateMachine xmi:id="_yfEvtE3NEeao8-d5_uOYEA" name="submachine for :takeCard" submachineState="_yfEvr03NEeao8-d5_uOYEA">
    <region xmi:id="_yfEvtU3NEeao8-d5_uOYEA" name="region of :takeCard">
      <transition xmi:id="_yfEvtk3NEeao8-d5_uOYEA" name="entryTransFrom:takeCard" source="_yfEvuE3NEeao8-d5_uOYEA" target="_yfEvuk3NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfEvt03NEeao8-d5_uOYEA" name="(user.displayMainScreen;) to (exit from (user.displayMainScreen;))" source="_yfEvuk3NEeao8-d5_uOYEA" target="_yfEvuU3NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvuE3NEeao8-d5_uOYEA" name="entry" kind="entryPoint"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvuU3NEeao8-d5_uOYEA" name="exit from (user.displayMainScreen;)" kind="exitPoint"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvuk3NEeao8-d5_uOYEA" name="user.displayMainScreen;">
        <doActivity xmi:type="uml:OpaqueBehavior" xmi:id="_yfEvu03NEeao8-d5_uOYEA">
          <body>user.displayMainScreen;</body>
        </doActivity>
      </subvertex>
    </region>
  </uml:StateMachine>
  <uml:StateMachine xmi:id="_yfEvvE3NEeao8-d5_uOYEA" name="submachine for :insertCard" submachineState="_yfEvsk3NEeao8-d5_uOYEA">
    <region xmi:id="_yfEvvU3NEeao8-d5_uOYEA" name="region of :insertCard">
      <transition xmi:id="_yfEvvk3NEeao8-d5_uOYEA" name="entryTransFrom:insertCard" source="_yfEvwE3NEeao8-d5_uOYEA" target="_yfEvwk3NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfEvv03NEeao8-d5_uOYEA" name="(user.requestPassword;) to (exit from (user.requestPassword;))" source="_yfEvwk3NEeao8-d5_uOYEA" target="_yfEvwU3NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvwE3NEeao8-d5_uOYEA" name="entry" kind="entryPoint"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvwU3NEeao8-d5_uOYEA" name="exit from (user.requestPassword;)" kind="exitPoint"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvwk3NEeao8-d5_uOYEA" name="user.requestPassword;">
        <doActivity xmi:type="uml:OpaqueBehavior" xmi:id="_yfEvw03NEeao8-d5_uOYEA">
          <body>user.requestPassword;</body>
        </doActivity>
      </subvertex>
    </region>
  </uml:StateMachine>
  <uml:StateMachine xmi:id="_yfEvxE3NEeao8-d5_uOYEA" name="submachine for :cancel" submachineState="_yfEvsU3NEeao8-d5_uOYEA">
    <region xmi:id="_yfEvxU3NEeao8-d5_uOYEA" name="region of :cancel">
      <transition xmi:id="_yfEvxk3NEeao8-d5_uOYEA" name="entryTransFrom:cancel" source="_yfEvyE3NEeao8-d5_uOYEA" target="_yfEvyU3NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfEvx03NEeao8-d5_uOYEA" name="(user.canceledMessage;) to (exit from (user.canceledMessage;))" source="_yfEvyU3NEeao8-d5_uOYEA" target="_yfEvy03NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvyE3NEeao8-d5_uOYEA" name="entry" kind="entryPoint"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEvyU3NEeao8-d5_uOYEA" name="user.canceledMessage;">
        <doActivity xmi:type="uml:OpaqueBehavior" xmi:id="_yfEvyk3NEeao8-d5_uOYEA">
          <body>user.canceledMessage;</body>
          <body>user.ejectCard;</body>
          <body>user.requestTakeCard;</body>
        </doActivity>
      </subvertex>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEvy03NEeao8-d5_uOYEA" name="exit from (user.canceledMessage;)" kind="exitPoint"/>
    </region>
  </uml:StateMachine>
  <uml:StateMachine xmi:id="_yfEvzE3NEeao8-d5_uOYEA" name="submachine for :enterPassword" submachineState="_yfEvs03NEeao8-d5_uOYEA">
    <region xmi:id="_yfEvzU3NEeao8-d5_uOYEA" name="region of :enterPassword">
      <transition xmi:id="_yfEvzk3NEeao8-d5_uOYEA" name="(entry) to (check := consortium.verifyAccount)" source="_yfEv103NEeao8-d5_uOYEA" target="_yfEv203NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfEvz03NEeao8-d5_uOYEA" name="[ check = :badAccount ]" guard="_yfEv0E3NEeao8-d5_uOYEA" source="_yfEv203NEeao8-d5_uOYEA" target="_yfEv2U3NEeao8-d5_uOYEA">
        <ownedRule xmi:id="_yfEv0E3NEeao8-d5_uOYEA" name="[ check = :badAccount ]">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_yfEv0U3NEeao8-d5_uOYEA">
            <body>check = :badAccount</body>
          </specification>
        </ownedRule>
      </transition>
      <transition xmi:id="_yfEv0k3NEeao8-d5_uOYEA" name="(user.badAccountMessage;) to (exit from (user.badAccountMessage;))" source="_yfEv2U3NEeao8-d5_uOYEA" target="_yfEv2E3NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfEv003NEeao8-d5_uOYEA" name="[ check = :badPassword ]" guard="_yfEv1E3NEeao8-d5_uOYEA" source="_yfEv203NEeao8-d5_uOYEA" target="_yfEv3U3NEeao8-d5_uOYEA">
        <ownedRule xmi:id="_yfEv1E3NEeao8-d5_uOYEA" name="[ check = :badPassword ]">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_yfEv1U3NEeao8-d5_uOYEA">
            <body>check = :badPassword</body>
          </specification>
        </ownedRule>
      </transition>
      <transition xmi:id="_yfEv1k3NEeao8-d5_uOYEA" name="(user.requestPassword;) to (exit from (user.requestPassword;))" source="_yfEv3U3NEeao8-d5_uOYEA" target="_yfFWkE3NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEv103NEeao8-d5_uOYEA" name="entry" kind="entryPoint"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfEv2E3NEeao8-d5_uOYEA" name="exit from (user.badAccountMessage;)" kind="exitPoint"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfEv2U3NEeao8-d5_uOYEA" name="user.badAccountMessage;">
        <doActivity xmi:type="uml:OpaqueBehavior" xmi:id="_yfEv2k3NEeao8-d5_uOYEA">
          <body>user.badAccountMessage;</body>
          <body>user.printReceipt;</body>
          <body>user.ejectCard;</body>
          <body>user.requestTakeCard;</body>
        </doActivity>
      </subvertex>
      <subvertex xmi:type="uml:State" xmi:id="_yfEv203NEeao8-d5_uOYEA" name="check := consortium.verifyAccount">
        <doActivity xmi:type="uml:OpaqueBehavior" xmi:id="_yfEv3E3NEeao8-d5_uOYEA">
          <body>check := consortium.verifyAccount</body>
        </doActivity>
      </subvertex>
      <subvertex xmi:type="uml:State" xmi:id="_yfEv3U3NEeao8-d5_uOYEA" name="user.requestPassword;">
        <doActivity xmi:type="uml:OpaqueBehavior" xmi:id="_yfEv3k3NEeao8-d5_uOYEA">
          <body>user.requestPassword;</body>
        </doActivity>
      </subvertex>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfFWkE3NEeao8-d5_uOYEA" name="exit from (user.requestPassword;)" kind="exitPoint"/>
    </region>
  </uml:StateMachine>
  <uml:StateMachine xmi:id="_yfFWkU3NEeao8-d5_uOYEA" name="consortium">
    <region xmi:id="_yfFWkk3NEeao8-d5_uOYEA" name="region of consortium">
      <transition xmi:id="_yfFWk03NEeao8-d5_uOYEA" name="initTrans" source="_yfFWmk3NEeao8-d5_uOYEA" target="_yfFWnE3NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfFWlE3NEeao8-d5_uOYEA" name="(exit from (check := bank.verifyCardWithBank)) to (WaitVerify)" source="_yfFWqk3NEeao8-d5_uOYEA" target="_yfFWnE3NEeao8-d5_uOYEA">
        <effect xmi:type="uml:OpaqueBehavior" xmi:id="_yfFWlU3NEeao8-d5_uOYEA">
          <body>return :badPassword</body>
        </effect>
      </transition>
      <transition xmi:id="_yfFWlk3NEeao8-d5_uOYEA" name="(exit from (check := bank.verifyCardWithBank)) to (WaitVerify)" source="_yfFWp03NEeao8-d5_uOYEA" target="_yfFWnE3NEeao8-d5_uOYEA">
        <effect xmi:type="uml:OpaqueBehavior" xmi:id="_yfFWl03NEeao8-d5_uOYEA">
          <body>return :badAccount</body>
        </effect>
      </transition>
      <transition xmi:id="_yfFWmE3NEeao8-d5_uOYEA" name="verifyAccount" source="_yfFWnE3NEeao8-d5_uOYEA" target="_yfFWpk3NEeao8-d5_uOYEA">
        <trigger xmi:id="_yfFWmU3NEeao8-d5_uOYEA" name="verifyAccount"/>
      </transition>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfFWmk3NEeao8-d5_uOYEA" name="init"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfFWm03NEeao8-d5_uOYEA" name=":verifyAccount" submachine="_yfFWnU3NEeao8-d5_uOYEA"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfFWnE3NEeao8-d5_uOYEA" name="WaitVerify"/>
    </region>
  </uml:StateMachine>
  <uml:StateMachine xmi:id="_yfFWnU3NEeao8-d5_uOYEA" name="submachine for :verifyAccount" submachineState="_yfFWm03NEeao8-d5_uOYEA">
    <region xmi:id="_yfFWnk3NEeao8-d5_uOYEA" name="region of :verifyAccount">
      <transition xmi:id="_yfFWn03NEeao8-d5_uOYEA" name="(entry) to (check := bank.verifyCardWithBank)" source="_yfFWpk3NEeao8-d5_uOYEA" target="_yfFWqE3NEeao8-d5_uOYEA"/>
      <transition xmi:id="_yfFWoE3NEeao8-d5_uOYEA" name="(check := bank.verifyCardWithBank) to (exit from (check := bank.verifyCardWithBank))" guard="_yfFWoU3NEeao8-d5_uOYEA" source="_yfFWqE3NEeao8-d5_uOYEA" target="_yfFWqk3NEeao8-d5_uOYEA">
        <ownedRule xmi:id="_yfFWoU3NEeao8-d5_uOYEA" name="[ check = :badBankPassword ]">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_yfFWok3NEeao8-d5_uOYEA">
            <body>check = :badBankPassword</body>
          </specification>
        </ownedRule>
      </transition>
      <transition xmi:id="_yfFWo03NEeao8-d5_uOYEA" name="(check := bank.verifyCardWithBank) to (exit from (check := bank.verifyCardWithBank))" guard="_yfFWpE3NEeao8-d5_uOYEA" source="_yfFWqE3NEeao8-d5_uOYEA" target="_yfFWp03NEeao8-d5_uOYEA">
        <ownedRule xmi:id="_yfFWpE3NEeao8-d5_uOYEA" name="[ check = :badBankAccount ]">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_yfFWpU3NEeao8-d5_uOYEA">
            <body>check = :badBankAccount</body>
          </specification>
        </ownedRule>
      </transition>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfFWpk3NEeao8-d5_uOYEA" name="entry" kind="entryPoint"/>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfFWp03NEeao8-d5_uOYEA" name="exit from (check := bank.verifyCardWithBank)" kind="exitPoint"/>
      <subvertex xmi:type="uml:State" xmi:id="_yfFWqE3NEeao8-d5_uOYEA" name="check := bank.verifyCardWithBank">
        <doActivity xmi:type="uml:OpaqueBehavior" xmi:id="_yfFWqU3NEeao8-d5_uOYEA">
          <body>check := bank.verifyCardWithBank</body>
        </doActivity>
      </subvertex>
      <subvertex xmi:type="uml:Pseudostate" xmi:id="_yfFWqk3NEeao8-d5_uOYEA" name="exit from (check := bank.verifyCardWithBank)" kind="exitPoint"/>
    </region>
  </uml:StateMachine>
</xmi:XMI>
